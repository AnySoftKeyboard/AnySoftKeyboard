apply plugin: 'findbugs'

findbugs {
    toolVersion = '3.0.1'
    reportLevel = 'low'
}

//NOTE: This task must be called after compilation
task findbugsMain(type: FindBugs) {
    description "Analyze code with the findbugs tool"
    group "Verification"

    classes = files("${buildDir}/intermediates/classes")
    source = fileTree("${projectDir}/src/main/java/")
    classpath = files()
    excludeFilter = file("${rootDir}/configs/findbugs-exclude.xml")

    reports {
        html.enabled = true
        xml.enabled = false
        xml.withMessages = true
    }
}
